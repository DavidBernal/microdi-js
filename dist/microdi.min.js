!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.microdi=t():e.microdi=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=r(i);t["default"]={Container:o["default"]}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){"use strict";function n(e,t){var n=arguments,r=1;return e.replace(/%((%)|s)/g,function(e){return e[2]||n[r++]})}function r(e){return"[object String]"===Object.prototype.toString.call(e)}function i(e){return"[object Number]"===Object.prototype.toString.call(e)}function o(e,t){var n;n="function"==typeof Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t=-1,n=-1;for(t=0;t<this.length;t++)if(this[t]===e){n=t;break}return n};var r=n.call(e,t);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.sprintf=n,t.isString=r,t.isNumber=i,t.indexOf=o},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(22),o=r(i);t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(36),i=n(31);e.exports=function(e){return r(i(e))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={"transient":"transient",singleton:"singleton",singletonPerContainer:"singletonPerContainer",external:"external"}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(5),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(14)("wks"),i=n(15),o=n(5).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||i)("Symbol."+e))}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),s=i(o),u=n(3),a=i(u),c=n(4),f=i(c),l=n(2),h=r(l),p=n(20),d=i(p),y=n(7),v=i(y),_=n(19),g=i(_),b=n(18),w=i(b),m=function(){function e(){(0,a["default"])(this,e),this._isChildContainer=!1,this._parent=void 0,this._registrations={},this._registrationGroups={},this._instanceCache={},this._resolverContext=new d["default"],this._resolvers=this._createDefaultResolvers(),this._isDisposed=!1,this._childContainers=[]}return(0,f["default"])(e,[{key:"createChildContainer",value:function(){this._throwIfDisposed();var e=(0,s["default"])(this);return e._parent=this,e._isChildContainer=!0,e._registrations=(0,s["default"])(this._registrations),e._registrationGroups=(0,s["default"])(this._registrationGroups),e._instanceCache=(0,s["default"])(this._instanceCache),e._resolvers=(0,s["default"])(this._resolvers),e._isDisposed=!1,e._childContainers=[],this._childContainers.push(e),e}},{key:"register",value:function(e,t){w["default"].isString(e,"name must be a string"),w["default"].isTrue(!h.isString(t),"Can not register a string using register(). Use registerInstance()"),w["default"].isTrue(!h.isNumber(t),"Can not register a number using register(). Use registerInstance()"),this._throwIfDisposed();var n={name:e,proto:t,dependencyList:[],instanceLifecycleType:v["default"].singleton};return this._registrations[e]=n,new g["default"](n,this._instanceCache,this._registrationGroups)}},{key:"registerInstance",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];this._throwIfDisposed(),this._registrations[e]={name:e,instanceLifecycleType:n?v["default"].external:v["default"].singleton},this._instanceCache[e]=t}},{key:"resolve",value:function(e){this._throwIfDisposed();var t,n,r=this._registrations[e];if(!r)throw n=h.sprintf("Nothing registered for dependency [%s]",e),new Error(n);t=this._tryRetrieveFromCache(e);for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;i>s;s++)o[s-1]=arguments[s];if(t){if(o.length>0)throw new Error("The provided additional dependencies can't be used to construct the instance as an existing instance was found in the container")}else t=this._buildInstance(e,o),r.instanceLifecycleType!==v["default"].singleton&&r.instanceLifecycleType!==v["default"].singletonPerContainer||(this._instanceCache[e]=t);return t}},{key:"resolveGroup",value:function(e){this._throwIfDisposed();var t,n,r=[];if(t=this._registrationGroups[e],!t)throw n=h.sprintf("No group with name [%s] registered",e),new Error(n);for(var i=0,o=t.length;o>i;i++)r.push(this.resolve(t[i]));return r}},{key:"addResolver",value:function(e,t){this._throwIfDisposed(),this._resolvers[e]=t}},{key:"dispose",value:function(){this._disposeContainer()}},{key:"_tryRetrieveFromCache",value:function(e){var t,n,r,i,o,s=this._registrations[e],u=this._instanceCache[e];return this._isChildContainer&&(t=this._registrations.hasOwnProperty(e),void 0===u?(r=s.instanceLifecycleType===v["default"].singleton,!t&&r&&(u=this._parent.resolve(e))):(n=this._instanceCache.hasOwnProperty(e),n||(i=t&&!n,o=!t&&s.instanceLifecycleType===v["default"].singletonPerContainer,(i||o)&&(u=void 0)))),u}},{key:"_buildInstance",value:function(e,t){var n,r,i,o,u,a=this._registrations[e],c=[];i=this._resolverContext.beginResolve(e);try{if(void 0!==a.dependencyList)for(var f=0,l=a.dependencyList.length;l>f;f++){if(r=a.dependencyList[f],h.isString(r))n=this.resolve(r);else{if(!r.hasOwnProperty("resolver")||!h.isString(r.resolver))throw new Error(h.sprintf("Error resolving [%s]. It's dependency at index [%s] had an unknown resolver",e,f));if(u=this._resolvers[r.resolver],void 0===u)throw new Error(h.sprintf("Error resolving [%s]. No resolver registered to resolve dependency key for resolver [%s]",e,r.resolver));n=u.resolve(this,r)}c.push(n)}for(var p=0,d=t.length;d>p;p++)c.push(t[p]);if(a.proto.isResolverKey){if(!a.proto.resolver)throw new Error("Registered resolverKey is missing it's resolver property");u=this._resolvers[a.proto.resolver],o=u.resolve(this,a.proto)}else if("function"==typeof a.proto){var y=a.proto.bind.apply(a.proto,[null].concat(c));o=new y}else o=(0,s["default"])(a.proto),void 0!==o.init&&(o=o.init.apply(o,c)||o)}finally{i.endResolve()}return o}},{key:"_createDefaultResolvers",value:function(){return{delegate:{resolve:function(e,t){return t.resolve(e)}},factory:{resolve:function(e,t){return function(){var n=[].slice.call(arguments);return n.unshift(t.key),e.resolve.apply(e,n)}}}}}},{key:"_throwIfDisposed",value:function(){if(this._isDisposed)throw new Error("Container has been disposed")}},{key:"_disposeContainer",value:function(){if(!this._isDisposed){this._isDisposed=!0;for(var e in this._instanceCache)if(this._instanceCache.hasOwnProperty(e)){var t=this._registrations[e];if(t.instanceLifecycleType!==v["default"].external){var n=this._instanceCache[e];n.dispose&&n.dispose()}}for(var r=0,i=this._childContainers.length;i>r;r++){var o=this._childContainers[r];o._disposeContainer()}}}}]),e}();t["default"]=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){if("undefined"==typeof e||""===e)throw new Error("Argument error");throw new Error(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(24),u=i(s),a=n(3),c=i(a),f=n(4),l=i(f),h=n(2),p=r(h),d=function(){function e(){(0,c["default"])(this,e)}return(0,l["default"])(e,null,[{key:"isDefined",value:function(e,t){"undefined"==typeof e&&o(t)}},{key:"isFalsey",value:function(e,t){e&&o(t)}},{key:"lengthIs",value:function(e,t,n){e.length!==t&&o(n)}},{key:"lengthGreaterThan",value:function(e,t,n){e.length<t&&o(n)}},{key:"lengthIsAtLeast",value:function(e,t,n){e.length<t&&o(n)}},{key:"isString",value:function(e,t){p.isString(e)||o(t)}},{key:"isNumber",value:function(e,t){p.isNumber(e)||o(t)}},{key:"isTrue",value:function(e,t){e||o(t)}},{key:"isFunction",value:function(e,t){"function"!=typeof e&&o(t)}},{key:"isObject",value:function(e,t){"object"!==("undefined"==typeof e?"undefined":(0,u["default"])(e))&&o(t)}}]),e}();t["default"]=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),s=i(o),u=n(4),a=i(u),c=n(2),f=r(c),l=n(7),h=i(l),p=function(){function e(t,n,r){(0,s["default"])(this,e),this._registration=t,this._instanceCache=n,this._registrationGroups=r,this.singleton()}return(0,a["default"])(e,[{key:"inject",value:function(){this._ensureInstanceNotCreated();var e=Array.prototype.slice.call(arguments);return this._validateDependencyList(e),this._registration.dependencyList=e,this}},{key:"transient",value:function(){return this._ensureInstanceNotCreated(),this._registration.instanceLifecycleType=h["default"]["transient"],this}},{key:"singleton",value:function(){return this._ensureInstanceNotCreated(),this._registration.instanceLifecycleType=h["default"].singleton,this}},{key:"singletonPerContainer",value:function(){return this._ensureInstanceNotCreated(),this._registration.instanceLifecycleType=h["default"].singletonPerContainer,this}},{key:"inGroup",value:function(e){this._ensureInstanceNotCreated();var t=!0,n=this._registrationGroups[e];if(n&&(t=this._registrationGroups.hasOwnProperty(e)),void 0!==n&&t||(n=[],this._registrationGroups[e]=n),-1!==f.indexOf(n,this._registration.name))throw new Error(f.sprintf("Instance already created for key [%s]",this._registration.name));return n.push(this._registration.name),this}},{key:"_ensureInstanceNotCreated",value:function(){if(this._registration.hasOwnProperty(this._registration.name)&&this._instanceCache.hasOwnProperty(this._registration.name))throw new Error(f.sprintf("Instance already created for key [%s]",this._registration.name))}},{key:"_validateDependencyList",value:function(e){}}]),e}();t["default"]=p},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),s=i(o),u=n(4),a=i(u),c=n(2),f=r(c),l=function(){function e(){(0,s["default"])(this,e),this._isResolving=!1,this._resolutionChain=[],this._hasEnded=!1}return(0,a["default"])(e,[{key:"beginResolve",value:function(e){var t=this;if(-1!==t._resolutionChain.indexOf(e)){for(var n=t._resolutionChain[0],r=1;r<t._resolutionChain.length;r++)n+=" -required-> "+t._resolutionChain[r];throw n+=" -required-> "+e,new Error(f.sprintf("Circular dependency detected when resolving item by name '%s'.\r\nThe resolution chain was:\r\n%s",e,n))}return this._isResolving||(this._isResolving=!0),t._resolutionChain.push(e),{endResolve:function(){if(!this._hasEnded){this._hasEnded=!0;var n=t._resolutionChain.indexOf(e);n>-1&&t._resolutionChain.splice(n,1),0===t._resolutionChain.length&&(t._isResolving=!1)}}}}}]),e}();t["default"]=l},function(e,t,n){e.exports={"default":n(25),__esModule:!0}},function(e,t,n){e.exports={"default":n(26),__esModule:!0}},function(e,t,n){e.exports={"default":n(27),__esModule:!0}},function(e,t,n){"use strict";var r=n(23)["default"];t["default"]=function(e){return e&&e.constructor===r?"symbol":typeof e},t.__esModule=!0},function(e,t,n){var r=n(1);e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(1);e.exports=function(e,t,n){return r.setDesc(e,t,n)}},function(e,t,n){n(44),n(43),e.exports=n(9).Symbol},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(38);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(28);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(1);e.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var i,o=n(e),s=r.isEnum,u=0;o.length>u;)s.call(e,i=o[u++])&&t.push(i);return t}},function(e,t,n){var r=n(5),i=n(9),o=n(30),s="prototype",u=function(e,t,n){var a,c,f,l=e&u.F,h=e&u.G,p=e&u.S,d=e&u.P,y=e&u.B,v=e&u.W,_=h?i:i[t]||(i[t]={}),g=h?r:p?r[t]:(r[t]||{})[s];h&&(n=t);for(a in n)c=!l&&g&&a in g,c&&a in _||(f=c?g[a]:n[a],_[a]=h&&"function"!=typeof g[a]?n[a]:y&&c?o(f,r):v&&g[a]==f?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[s]=e[s],t}(f):d&&"function"==typeof f?o(Function.call,f):f,d&&((_[s]||(_[s]={}))[a]=f))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,e.exports=u},function(e,t,n){var r=n(6),i=n(1).getNames,o={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(t){return s.slice()}};e.exports.get=function(e){return s&&"[object Window]"==o.call(e)?u(e):i(r(e))}},function(e,t,n){var r=n(1),i=n(13);e.exports=n(10)?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(8);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(8);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(1),i=n(6);e.exports=function(e,t){for(var n,o=i(e),s=r.getKeys(o),u=s.length,a=0;u>a;)if(o[n=s[a++]]===t)return n}},function(e,t){e.exports=!0},function(e,t,n){e.exports=n(35)},function(e,t,n){var r=n(1).setDesc,i=n(12),o=n(16)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(12),s=n(10),u=n(33),a=n(41),c=n(11),f=n(14),l=n(42),h=n(15),p=n(16),d=n(39),y=n(34),v=n(32),_=n(37),g=n(29),b=n(6),w=n(13),m=r.getDesc,C=r.setDesc,x=r.create,O=y.get,P=i.Symbol,S=i.JSON,k=S&&S.stringify,j=!1,D=p("_hidden"),E=r.isEnum,M=f("symbol-registry"),I=f("symbols"),N="function"==typeof P,T=Object.prototype,L=s&&c(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=m(T,t);r&&delete T[t],C(e,t,n),r&&e!==T&&C(T,t,r)}:C,G=function(e){var t=I[e]=x(P.prototype);return t._k=e,s&&j&&L(T,e,{configurable:!0,set:function(t){o(this,D)&&o(this[D],e)&&(this[D][e]=!1),L(this,e,w(1,t))}}),t},R=function(e){return"symbol"==typeof e},F=function(e,t,n){return n&&o(I,t)?(n.enumerable?(o(e,D)&&e[D][t]&&(e[D][t]=!1),n=x(n,{enumerable:w(0,!1)})):(o(e,D)||C(e,D,w(1,{})),e[D][t]=!0),L(e,t,n)):C(e,t,n)},A=function(e,t){g(e);for(var n,r=v(t=b(t)),i=0,o=r.length;o>i;)F(e,n=r[i++],t[n]);return e},K=function(e,t){return void 0===t?x(e):A(x(e),t)},J=function(e){var t=E.call(this,e);return t||!o(this,e)||!o(I,e)||o(this,D)&&this[D][e]?t:!0},W=function(e,t){var n=m(e=b(e),t);return!n||!o(I,t)||o(e,D)&&e[D][t]||(n.enumerable=!0),n},q=function(e){for(var t,n=O(b(e)),r=[],i=0;n.length>i;)o(I,t=n[i++])||t==D||r.push(t);return r},B=function(e){for(var t,n=O(b(e)),r=[],i=0;n.length>i;)o(I,t=n[i++])&&r.push(I[t]);return r},U=function(e){if(void 0!==e&&!R(e)){for(var t,n,r=[e],i=1,o=arguments;o.length>i;)r.push(o[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&_(t)||(t=function(e,t){return n&&(t=n.call(this,e,t)),R(t)?void 0:t}),r[1]=t,k.apply(S,r)}},z=c(function(){var e=P();return"[null]"!=k([e])||"{}"!=k({a:e})||"{}"!=k(Object(e))});N||(P=function(){if(R(this))throw TypeError("Symbol is not a constructor");return G(h(arguments.length>0?arguments[0]:void 0))},a(P.prototype,"toString",function(){return this._k}),R=function(e){return e instanceof P},r.create=K,r.isEnum=J,r.getDesc=W,r.setDesc=F,r.setDescs=A,r.getNames=y.get=q,r.getSymbols=B,s&&!n(40)&&a(T,"propertyIsEnumerable",J,!0));var H={"for":function(e){return o(M,e+="")?M[e]:M[e]=P(e)},keyFor:function(e){return d(M,e)},useSetter:function(){j=!0},useSimple:function(){j=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=p(e);H[e]=N?t:G(t)}),j=!0,u(u.G+u.W,{Symbol:P}),u(u.S,"Symbol",H),u(u.S+u.F*!N,"Object",{create:K,defineProperty:F,defineProperties:A,getOwnPropertyDescriptor:W,getOwnPropertyNames:q,getOwnPropertySymbols:B}),S&&u(u.S+u.F*(!N||z),"JSON",{stringify:U}),l(P,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)}])});
//# sourceMappingURL=microdi.min.js.map