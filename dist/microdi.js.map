{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 535f49155c92a554a559","webpack:///./index.js","webpack:///./src/Container.js","webpack:///./src/utils.js","webpack:///./src/ResolverContext.js","webpack:///./src/InstanceLifecycleType.js","webpack:///./src/InstanceLifecycle.js"],"names":[],"mappings":"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","file":"microdi.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"microdi\"] = factory();\n\telse\n\t\troot[\"microdi\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 535f49155c92a554a559\n **/","import { default as Container } from './src/Container';\nexport default Container;\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./index.js\n **/","\"use strict\";\n\nimport utils from './utils';\nimport ResolverContext from './ResolverContext';\nimport InstanceLifecycleType from './InstanceLifecycleType';\nimport InstanceLifecycle from './InstanceLifecycle';\n\nexport default class Container {\n    constructor() {\n        this._isChildContainer = false;\n        this._parent = undefined;\n        this._registrations = {};\n        this._instanceCache = {};\n        this._resolverContext = new ResolverContext();\n        this._resolvers = this._createDefaultResolvers();\n        this._isDisposed = false;\n        this._childContainers = [];\n    }\n    createChildContainer() {\n        if (this._isDisposed) this._throwIsDisposed();\n        // The child prototypically inherits some but not all props from its parent.\n        // Below we override the ones it doesn't inherit.\n        var child = Object.create(this);\n        child._parent = this;\n        child._isChildContainer = true;\n        child._registrations = Object.create(this._registrations);\n        child._instanceCache = Object.create(this._instanceCache);\n        child._resolvers = Object.create(this._resolvers);\n        child._isDisposed = false;\n        child._childContainers = [];\n        this._childContainers.push(child);\n        return child;\n    }\n    register(name, proto, dependencyList) {\n        if (this._isDisposed) this._throwIsDisposed();\n        this._validateDependencyList(dependencyList);\n        var registration = {\n            name: name,\n            proto: proto,\n            dependencyList: dependencyList,\n            instanceLifecycleType: InstanceLifecycleType.singleton\n        };\n        this._registrations[name] = registration;\n        return new InstanceLifecycle(registration, this._instanceCache);\n    }\n    registerInstance(name, instance) {\n        if (this._isDisposed) this._throwIsDisposed();\n        var registration = {\n            name: name,\n            instanceLifecycleType: InstanceLifecycleType.external\n        };\n        this._registrations[name] = registration;\n        this._instanceCache[name] = instance;\n    }\n    resolve(name) {\n        if (this._isDisposed) this._throwIsDisposed();\n        var registration = this._registrations[name],\n            dependency,\n            instance,\n            error;\n        if (!registration) {\n            error = utils.sprintf('Nothing registered for dependency [%s]', name);\n            throw new Error(error);\n        }\n        instance = this._tryRetrieveFromCache(name);\n        if (!instance) {\n            instance = this._buildInstance(name);\n            if (registration.instanceLifecycleType === InstanceLifecycleType.singleton || registration.instanceLifecycleType === InstanceLifecycleType.singletonPerContainer) {\n                this._instanceCache[name] = instance;\n            }\n        }\n        return instance;\n    }\n    addResolver(type, plugin) {\n        if (this._isDisposed) this._throwIsDisposed();\n        this._resolvers[type] = plugin;\n    }\n    dispose() {\n        this._disposeContainer();\n    }\n    _tryRetrieveFromCache(name) {\n        var registration = this._registrations[name],\n            instance = this._instanceCache[name],\n            thisContainerOwnsRegistration,\n            thisContainerOwnsInstance,\n            typeIsSingleton,\n            childHasOverriddenRegistration,\n            parentRegistrationIsSingletonPerContainer;\n        if (this._isChildContainer) {\n            thisContainerOwnsRegistration = this._registrations.hasOwnProperty(name);\n            if (instance === undefined) {\n                typeIsSingleton = registration.instanceLifecycleType === InstanceLifecycleType.singleton;\n                // do we have the right to create it, or do we need to defer to the parent?\n                if (!thisContainerOwnsRegistration && typeIsSingleton) {\n                    // singletons always need to be resolved and stored with the container that owns the\n                    // registration, otherwise the cached instance won't live in the right place\n                    instance = this._parent.resolve(name);\n                }\n            } else {\n                thisContainerOwnsInstance = this._instanceCache.hasOwnProperty(name);\n                if (!thisContainerOwnsInstance) {\n                    childHasOverriddenRegistration = thisContainerOwnsRegistration && !thisContainerOwnsInstance;\n                    parentRegistrationIsSingletonPerContainer = !thisContainerOwnsRegistration && registration.instanceLifecycleType === InstanceLifecycleType.singletonPerContainer;\n                    if (childHasOverriddenRegistration || parentRegistrationIsSingletonPerContainer) {\n                        instance = undefined;\n                    }\n                }\n            }\n        }\n        return instance;\n    }\n    _buildInstance(name) {\n        var registration = this._registrations[name],\n            dependencies = [],\n            dependency,\n            dependencyKey,\n            i,\n            context,\n            instance,\n            resolver;\n        context = this._resolverContext.beginResolve(name);\n        try {\n            if (registration.dependencyList !== undefined) {\n                for (i = 0; i < registration.dependencyList.length; i++) {\n                    dependencyKey = registration.dependencyList[i];\n                    if (utils.isString(dependencyKey)) {\n                        dependency = this.resolve(dependencyKey);\n                    } else if (dependencyKey.hasOwnProperty('type') && utils.isString(dependencyKey.type)) {\n                        resolver = this._resolvers[dependencyKey.type];\n                        if (resolver === undefined) {\n                            throw new Error(utils.sprintf('Error resolving [%s]. No resolver plugin registered to resolve dependency key for type [%s]', name, dependencyKey.type));\n                        }\n                        dependency = resolver.resolve(this, dependencyKey);\n                    } else {\n                        throw new Error(utils.sprintf('Error resolving [%s]. It\\'s dependency at index [%s] had an unknown resolver type', name, i));\n                    }\n                    dependencies.push(dependency);\n                }\n            }\n            if (typeof registration.proto === 'function') {\n                // haven't really tested this working with constructor functions too much\n                // code ripped from here http://stackoverflow.com/questions/3362471/how-can-i-call-a-javascript-constructor-using-call-or-apply\n                var Ctor = registration.proto.bind.apply(\n                    registration.proto,\n                    [null].concat(dependencies)\n                );\n                instance = new Ctor();\n            } else {\n                instance = Object.create(registration.proto);\n                if (instance.init !== undefined) {\n                    instance = instance.init.apply(instance, dependencies) || instance;\n                }\n            }\n\n        } finally {\n            context.endResolve();\n        }\n        return instance;\n    }\n    _validateDependencyList(dependencyList) {\n    }\n    _createDefaultResolvers() {\n        return {\n            // A resolvers that delegates to the dependency keys resolve method to perform the resolution.\n            // It expects a dependency key in format:\n            // { type: 'factory', resolve: function(container) { return someInstance } }\n            factory: {\n                resolve: (container, dependencyKey) => {\n                    return dependencyKey.resolve(container);\n                }\n            },\n            // A resolvers that returns a factory that when called will resolve the dependency from the container.\n            // It expects a dependency key in format:\n            // { type: 'autoFactory', name: \"aDependencyName\" }\n            autoFactory: {\n                resolve: (container, dependencyKey) => {\n                    return () => {\n                        return container.resolve(dependencyKey.name);\n                    };\n                }\n            }\n        };\n    }\n    _throwIsDisposed() {\n        throw new Error(\"Container has been disposed\");\n    }\n    _disposeContainer() {\n        if (!this._isDisposed) {\n            this._isDisposed = true;\n            for (var prop in  this._instanceCache) {\n                if (this._instanceCache.hasOwnProperty(prop)) {\n                    var registration = this._registrations[prop];\n                    if (registration.instanceLifecycleType !== InstanceLifecycleType.external) {\n                        var instance = this._instanceCache[prop];\n                        if (instance.dispose) {\n                            instance.dispose();\n                        }\n                    }\n                }\n            }\n            for (var i = 0, len = this._childContainers.length; i < len; i++) {\n                var child = this._childContainers[i];\n                child._disposeContainer();\n            }\n        }\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/Container.js\n **/","exports.sprintf = function sprintf(format, etc) {\n    var arg = arguments;\n    var i = 1;\n    return format.replace(/%((%)|s)/g, function (m) { return m[2] || arg[i++]; });\n};\n\nexports.isString =function(value) {\n    return typeof value == 'string' || value instanceof String;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/utils.js\n **/","// helper to track circular dependencies during a resolve call\nexport default class ResolverContext  {\n    constructor() {\n        this._isResolving = false;\n        this._resolutionChain = [];\n        this._hasEnded = false;\n    }\n    beginResolve(key) {\n        var self = this;\n        if(self._resolutionChain.indexOf(key) !== -1) {\n            var resolutionChainSummary = self._resolutionChain[0];\n            for (var i = 1; i < self._resolutionChain.length;  i++) {\n                resolutionChainSummary += ' -required-> ' + self._resolutionChain[i];\n            }\n            resolutionChainSummary += ' -required-> ' + key;\n            throw new Error(utils.sprintf('Circular dependency detected when resolving item by name \\'%s\\'.\\r\\nThe resolution chain was:\\r\\n%s', key, resolutionChainSummary));\n        }\n        if(!this._isResolving) {\n            this._isResolving = true;\n        }\n        self._resolutionChain.push(key);\n        return {\n            endResolve: function () {\n                if(!this._hasEnded) {\n                    this._hasEnded = true;\n                    var i = self._resolutionChain.indexOf(key);\n                    if (i > -1) {\n                        self._resolutionChain.splice(i, 1);\n                    }\n                    if (self._resolutionChain.length === 0) {\n                        self._isResolving = false;\n                    }\n                }\n            }\n        };\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/ResolverContext.js\n **/","export default {\n    transient: 'transient',\n    singleton: 'singleton',\n    singletonPerContainer: 'singletonPerContainer',\n    external: 'external'\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/InstanceLifecycleType.js\n **/","import utils from './utils';\nimport InstanceLifecycleType from './InstanceLifecycleType';\n\nexport default class InstanceLifecycle  {\n    constructor(registration, instanceCache) {\n        this._registration = registration;\n        this._instanceCache = instanceCache;\n        this.singleton();\n    }\n    transient() {\n        this._ensureInstanceNotCreated();\n        this._registration.instanceLifecycleType = InstanceLifecycleType.transient;\n    }\n    singleton() {\n        this._ensureInstanceNotCreated();\n        this._registration.instanceLifecycleType = InstanceLifecycleType.singleton;\n    }\n    singletonPerContainer() {\n        this._ensureInstanceNotCreated();\n        this._registration.instanceLifecycleType = InstanceLifecycleType.singletonPerContainer;\n    }\n    _ensureInstanceNotCreated() {\n        if(this._registration.hasOwnProperty(this._registration.name) && this._instanceCache.hasOwnProperty(this._registration.name))\n            throw new Error(utils.sprintf('Instance already created for key [%s]', this._registration.name));\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/source-map-loader!./src/InstanceLifecycle.js\n **/"],"sourceRoot":""}